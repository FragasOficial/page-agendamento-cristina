<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda Certa</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="index.css">
    <script src="./index.js" defer></script>
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="config-all">
    <header id="config-h1">
        <img src="./img/logo.jpeg" alt="logo-Cristina-Unha-de-flor" class="flor">
        <h1 class="titleOne">Ana Cristina Unha de Flor</h1>
        <!-- <img src="./img/logo.jpeg" alt="logo-Cristina-Unha-de-flor" class="flor"> -->
    </header>

    <h2 class="config-header02">AGENDA CERTA</h2>
    <div class="config-div01">
        <p class="paragraphIntro">Bem-vindo ao nosso serviço de agendamento de manicure, pedicure e design de unhas!
            Cuide das suas mãos e pés com o carinho e a atenção que eles merecem. Nossa equipe 
            de especialistas está pronta para proporcionar uma experiência relaxante e personalizada, 
            deixando suas unhas impecáveis e revitalizadas. Agende o seu horário de forma fácil e 
            rápida, escolhendo a data e o horário que melhor se encaixam na sua rotina. Estamos 
            aqui para garantir que você saia daqui sentindo-se renovada e confiante, pronta para 
            encarar o dia a dia com estilo e conforto. Reserve agora e aproveite o melhor da manicure, 
            pedicure e design de unhas profissional!
        </p>
    </div>

    <h2 class="config-header02">AGENDE SEU ATENDIMENTO CONOSCO:</h2>
    <div class="box-agendamento">
        <form class="config-table" id="agendamentoForm">
            <div class="config-date">
                <label for="festa" class="escolherData">Escolha a sua data preferida:</label>
                <input type="date" id="festa" name="festa" min="01-01-2024" max="31-12-2024" required />
            </div>
            
            <div id="scheduleContainer" class="dimension-card-horario hidden">
                <!-- Horário de atendimento será inserido dinamicamente aqui -->
            </div>

            <div class="personal-info">
                <p>Informe seus dados:</p>
                <label for="nome">Nome:</label>
                <input type="text" id="nome" name="nome" class="hidden" required />
                <label for="telefone" class="hidden">Telefone:</label>
                <input type="tel" id="telefone" name="telefone" class="hidden" required />
                <label for="endereco" class="hidden">Endereço:</label>
                <input type="text" id="endereco" name="endereco" class="hidden" required />
                <label for="email" class="hidden">E-mail:</label>
                <input type="email" id="email" name="email" class="hidden" required />
            </div>
            <div class="botton-enviar">
              <button type="button" id="submitBtn" class="hidden">Agendar agora</button>
          </div>
        </form>
    </div>

    <div id="result"></div> <!-- Div para exibir os resultados -->
    <div id="paymentSection" style="display:none;">
        <h3>Pagamento</h3>
        <p>Escolha sua forma de pagamento:</p>
        <button id="pixBtn">Pix</button>
        <button id="creditCardBtn">Cartão de Crédito</button>
    </div>
    <script>
        document.getElementById('festa').addEventListener('change', function() {
            var selectedDate = new Date(this.value);
            var dayOfWeek = selectedDate.getDay();
            var isHoliday = checkIfHoliday(selectedDate);

            var scheduleContainer = document.getElementById('scheduleContainer');
            scheduleContainer.innerHTML = ''; // Limpa qualquer conteúdo anterior

            if (dayOfWeek >= 1 && dayOfWeek <= 5 && !isHoliday) {
                scheduleContainer.innerHTML = `
                    <label for="hora-cons" class='escolherHour'>Escolha o horário do seu atendimento:</label>
                    <select id="hora-cons" name="hora-cons" required>
                        <option value="18:30">18:30</option>
                        <option value="19:50">19:50</option>
                        <option value="21:00">21:00</option>
                    </select>
                `;
            } else if (dayOfWeek === 6) {
                scheduleContainer.innerHTML = `
                    <label for="hora-cons-sabado">Escolha o horário do seu atendimento:</label>
                    <select id="hora-cons-sabado" name="hora-cons-sabado" required>
                        <option value="08:30">08:30</option>
                        <option value="10:00">10:00</option>
                        <option value="13:00">13:00</option>
                        <option value="14:30">14:30</option>
                        <option value="16:00">16:00</option>
                    </select>
                `;
            } else if (dayOfWeek === 0) {
                scheduleContainer.innerHTML = `
                    <label for="hora-cons-domingo">Escolha o horário do seu atendimento:</label>
                    <select id="hora-cons-domingo" name="hora-cons-domingo" required>
                        <option value="08:30">08:30</option>
                        <option value="10:00">10:00</option>
                    </select>
                `;
            } else if (isHoliday) {
                scheduleContainer.innerHTML = `
                    <label for="hora-cons-feriado">Escolha o horário do seu atendimento:</label>
                    <select id="hora-cons-feriado" name="hora-cons-feriado" required>
                        <option value="08:30">08:30</option>
                        <option value="10:00">10:00</option>
                        <option value="13:00">13:00</option>
                        <option value="15:30">15:30</option>
                        <option value="17:00">17:00</option>
                    </select>
                `;
            }

            scheduleContainer.classList.remove('hidden');
            document.getElementById('nome').classList.remove('hidden');
        });

        function checkIfHoliday(date) {
            var holidays = ['2024-04-21', '2024-05-01', '2024-09-07']; // Exemplo de feriados
            return holidays.includes(date.toISOString().split('T')[0]);
        }

        // Função para mostrar o próximo campo após o preenchimento do atual
        document.getElementById('nome').addEventListener('input', function() {
            if (this.value.trim() !== '') {
                document.querySelector('label[for="telefone"]').classList.remove('hidden');
                document.getElementById('telefone').classList.remove('hidden');
            }
        });

        document.getElementById('telefone').addEventListener('input', function() {
            if (this.value.trim() !== '') {
                document.querySelector('label[for="endereco"]').classList.remove('hidden');
                document.getElementById('endereco').classList.remove('hidden');
            }
        });

        document.getElementById('endereco').addEventListener('input', function() {
            if (this.value.trim() !== '') {
                document.querySelector('label[for="email"]').classList.remove('hidden');
                document.getElementById('email').classList.remove('hidden');
            }
        });

        document.getElementById('email').addEventListener('input', function() {
            if (this.value.trim() !== '') {
                document.getElementById('submitBtn').classList.remove('hidden');
            }
        });

        document.getElementById('submitBtn').addEventListener('click', function() {
            var nome = document.getElementById('nome').value;
            var telefone = document.getElementById('telefone').value;
            var endereco = document.getElementById('endereco').value;
            var email = document.getElementById('email').value;
            var date = document.getElementById('festa').value;
            var timeWeekday = document.getElementById('hora-cons') ? document.getElementById('hora-cons').value : '';
            var timeSaturday = document.getElementById('hora-cons-sabado') ? document.getElementById('hora-cons-sabado').value : '';
            var timeSunday = document.getElementById('hora-cons-domingo') ? document.getElementById('hora-cons-domingo').value : '';
            var timeHoliday = document.getElementById('hora-cons-feriado') ? document.getElementById('hora-cons-feriado').value : '';

            var resultDiv = document.getElementById('result');
            resultDiv.innerHTML = ''; // Limpa o conteúdo anterior
            var selectedTime = timeWeekday || timeSaturday || timeSunday || timeHoliday;
            var paymentSection = document.getElementById('paymentSection');

            if (selectedTime) {
                var resultHTML = `
                    <h3>Resumo do Agendamento</h3>
                    <p><strong>Nome:</strong> ${nome}</p>
                    <p><strong>Telefone:</strong> ${telefone}</p>
                    <p><strong>Endereço:</strong> ${endereco}</p>
                    <p><strong>E-mail:</strong> ${email}</p>
                    <p><strong>Data do Atendimento:</strong> ${date}</p>
                    <p><strong>Horário Escolhido:</strong> ${selectedTime}</p>
                `;
                resultDiv.innerHTML = resultHTML;
                paymentSection.style.display = 'block';
            } else {
                resultDiv.innerHTML = '<p>Por favor, selecione um horário.</p>';
                paymentSection.style.display = 'none';
            }
        });
    </script>
</body>
</html>
